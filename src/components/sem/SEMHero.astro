---
interface Props {
  label?: string
  title: string
  subtitle?: string
  ctaText?: string
  ctaHref?: string
  highlight?: string
  icon?: 'sparkle' | 'brush' | 'heart' | 'route' | 'trophy' | 'search'
}

const { label, title, subtitle, ctaText, ctaHref, highlight, icon = 'sparkle' } = Astro.props

const icons = {
  sparkle: '<path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z" />',
  brush: '<path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />',
  heart: '<path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />',
  route: '<path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m0-15V0m6 9V0m0 24V15M3 13.5h18M3 10.5h18" />',
  trophy: '<path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-4.5A3.375 3.375 0 0019.875 10.875V6.75a3 3 0 00-3-3H7.125a3 3 0 00-3 3v4.125A3.375 3.375 0 007.5 14.25v4.5m9-9.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z" />',
  search: '<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />',
}

const hasImage = Astro.slots.has('image')
---

<section class="pt-20 md:pt-28">
  <div class="mx-auto max-w-4xl px-6 text-center">
    {label && (
      <p class="section-label mb-6 justify-center">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <Fragment set:html={icons[icon]} />
        </svg>
        {label}
      </p>
    )}
    <h1 class="font-accent text-hero font-medium text-heading leading-tight">
      {highlight ? (
        <Fragment set:html={title.replace(highlight, `<span class="text-teal-accent">${highlight}</span>`)} />
      ) : (
        title
      )}
    </h1>
    {subtitle && (
      <p class="mx-auto mt-6 max-w-2xl text-lead text-text-body">
        {subtitle}
      </p>
    )}
    {ctaText && ctaHref && (
      <div class="mt-10">
        <a href={ctaHref} class="btn-sem">
          {ctaText}
          <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    )}
  </div>
  {hasImage && (
    <div class="mt-10 w-full overflow-hidden">
      <slot name="image" />
    </div>
  )}
</section>
